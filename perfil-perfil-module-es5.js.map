{"version":3,"sources":["./src/app/components/footer/footer.component.html","./src/app/perfil/perfil.page.html","./src/app/components/footer/footer.component.scss","./src/app/components/footer/footer.component.ts","./src/app/components/footer/footer.module.ts","./src/app/perfil/perfil.module.ts","./src/app/perfil/perfil.page.scss","./src/app/perfil/perfil.page.ts","./src/app/services/user/user.service.ts"],"names":[],"mappings":"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","file":"perfil-perfil-module-es5.js","sourcesContent":["module.exports = \"<br><br><footer>\\r\\n    2021 <br> \\r\\n    Ciano, Todos os Direitos Reservados (v 1.0.1)\\r\\n</footer>\"","module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      Perfil\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <div class=\\\"container\\\">\\r\\n    <h2 class=\\\"text\\\">{{ user?.apelido }}</h2>\\r\\n    <div class=\\\"border response\\\">\\r\\n      <img class=\\\"img\\\" [src]=\\\"imgURL || 'assets/imgs/avatar-blank.png'\\\" alt=\\\"\\\">\\r\\n    </div>\\r\\n    <h4 class=\\\"text\\\">{{ user?.email }}</h4>\\r\\n    <h4 class=\\\"text\\\">{{ user?.id }}</h4>\\r\\n    <br>\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"floating\\\">URL da imagem</ion-label>\\r\\n      <ion-input class=\\\"input\\\" type=\\\"text\\\" color=\\\"primary\\\" [(ngModel)]=\\\"imgURL\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n        placeholder=\\\"EX: https://i.pinimg.com/originals/5f/7e/d5/5f7ed54f83225d4fe5d05b37ae0b3d85.jpg\\\">\\r\\n      </ion-input>\\r\\n      <ion-button class=\\\"btn\\\" expand=\\\"full\\\" fill=\\\"solid\\\" slot=\\\"end\\\"\\r\\n      type=\\\"submit\\\" color=\\\"tertiary\\\" (click)=\\\"atualizar()\\\">Atualizar\\r\\n      </ion-button>\\r\\n    </ion-item>\\r\\n\\r\\n    <p class=\\\"aviso\\\">Recomenda-se uma imagem 400x400</p>\\r\\n  </div>\\r\\n  <br><br>\\r\\n\\r\\n</ion-content>\\r\\n<app-footer></app-footer>\\r\\n\\r\\n\\r\\n<p-toast position=\\\"top-center\\\" life=\\\"3000\\\"></p-toast>\\r\\n<app-load-spinner [loading]=\\\"loading\\\"></app-load-spinner>\"","module.exports = \"footer {\\n  position: fixed;\\n  left: 0;\\n  bottom: 0;\\n  width: 100%;\\n  background-color: #a0dffc;\\n  color: black;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29tcG9uZW50cy9mb290ZXIvQzpcXFVzZXJzXFxsaGNjb1xcRG9jdW1lbnRzXFxEZXNlbnZvbHZpbWVudG9cXFRDQ1xcRnJvbnRlbmRcXFJNRi1Nb2JpbGUvc3JjXFxhcHBcXGNvbXBvbmVudHNcXGZvb3RlclxcZm9vdGVyLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0VBQ0EsT0FBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImZvb3RlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgYm90dG9tOiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTYwLCAyMjMsIDI1Mik7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiB9IiwiZm9vdGVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBsZWZ0OiAwO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTBkZmZjO1xuICBjb2xvcjogYmxhY2s7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.scss'],\r\n})\r\nexport class FooterComponent implements OnInit {\r\n  ngOnInit() {\r\n\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FooterComponent } from './footer.component';\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\n@NgModule({\r\n  declarations: [FooterComponent],\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule\r\n  ],\r\n  exports: [FooterComponent],\r\n  entryComponents: [FooterComponent]\r\n})\r\nexport class FooterModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PerfilPage } from './perfil.page';\r\nimport { FooterModule } from '../components/footer/footer.module';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { ToastModule } from 'primeng/toast';\r\nimport { MessageService } from 'primeng/api';\r\n\r\nimport { LoadSpinnerModule } from '../components/utils/load-spinner/load-spinner.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PerfilPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    FooterModule,\r\n    FormsModule,\r\n    LoadSpinnerModule,\r\n    ToastModule\r\n  ],\r\n  declarations: [PerfilPage],\r\n  providers: [MessageService]\r\n})\r\nexport class PerfilPageModule { }\r\n","module.exports = \".container {\\n  display: -webkit-box;\\n  display: flex;\\n  margin: 15px 25px;\\n  align-self: center;\\n  -webkit-box-align: center;\\n          align-items: center;\\n  align-content: center;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n\\n.img {\\n  border-radius: 30%;\\n}\\n\\n.text {\\n  text-align: center;\\n}\\n\\n@media only screen and (max-width: 599px) {\\n  img {\\n    max-width: 200px;\\n    max-height: 200px;\\n  }\\n\\n  .response {\\n    width: 200px;\\n    height: 200px;\\n  }\\n}\\n\\n@media only screen and (min-width: 600px) {\\n  .response {\\n    width: 400px;\\n    height: 400px;\\n  }\\n}\\n\\n.border {\\n  border-radius: 30%;\\n  border: 1px groove rgba(94, 41, 164, 0.28);\\n}\\n\\n.aviso {\\n  color: red;\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGVyZmlsL0M6XFxVc2Vyc1xcbGhjY29cXERvY3VtZW50c1xcRGVzZW52b2x2aW1lbnRvXFxUQ0NcXEZyb250ZW5kXFxSTUYtTW9iaWxlL3NyY1xcYXBwXFxwZXJmaWxcXHBlcmZpbC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BlcmZpbC9wZXJmaWwucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO1VBQUEsbUJBQUE7RUFDQSxxQkFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtBQ0NGOztBREVBO0VBQ0Usa0JBQUE7QUNDRjs7QURFQTtFQUNFLGtCQUFBO0FDQ0Y7O0FERUE7RUFDRTtJQUNFLGdCQUFBO0lBQ0EsaUJBQUE7RUNDRjs7RURDQTtJQUNFLFlBQUE7SUFDQSxhQUFBO0VDRUY7QUFDRjs7QURDQTtFQUNFO0lBQ0UsWUFBQTtJQUNBLGFBQUE7RUNDRjtBQUNGOztBREVBO0VBQ0Usa0JBQUE7RUFDQSwwQ0FBQTtBQ0FGOztBREdBO0VBQ0UsVUFBQTtFQUNBLGVBQUE7QUNBRiIsImZpbGUiOiJzcmMvYXBwL3BlcmZpbC9wZXJmaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW46IDE1cHggMjVweDtcclxuICBhbGlnbi1zZWxmOiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLmltZyB7XHJcbiAgYm9yZGVyLXJhZGl1czogMzAlO1xyXG59XHJcblxyXG4udGV4dCB7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDU5OXB4KSB7XHJcbiAgaW1nIHtcclxuICAgIG1heC13aWR0aDogMjAwcHg7XHJcbiAgICBtYXgtaGVpZ2h0OiAyMDBweDtcclxuICB9XHJcbiAgLnJlc3BvbnNlIHtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIGhlaWdodDogMjAwcHg7XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XHJcbiAgLnJlc3BvbnNlIHtcclxuICAgIHdpZHRoOiA0MDBweDtcclxuICAgIGhlaWdodDogNDAwcHg7XHJcbiAgfVxyXG59XHJcblxyXG4uYm9yZGVyIHtcclxuICBib3JkZXItcmFkaXVzOiAzMCU7XHJcbiAgYm9yZGVyOiAxcHggZ3Jvb3ZlIHJnYmEoOTQsIDQxLCAxNjQsIDAuMjgpO1xyXG59XHJcblxyXG4uYXZpc297XHJcbiAgY29sb3I6IHJlZDtcclxuICBmb250LXNpemU6IDEycHg7XHJcbn0iLCIuY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAgbWFyZ2luOiAxNXB4IDI1cHg7XG4gIGFsaWduLXNlbGY6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuXG4uaW1nIHtcbiAgYm9yZGVyLXJhZGl1czogMzAlO1xufVxuXG4udGV4dCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1OTlweCkge1xuICBpbWcge1xuICAgIG1heC13aWR0aDogMjAwcHg7XG4gICAgbWF4LWhlaWdodDogMjAwcHg7XG4gIH1cblxuICAucmVzcG9uc2Uge1xuICAgIHdpZHRoOiAyMDBweDtcbiAgICBoZWlnaHQ6IDIwMHB4O1xuICB9XG59XG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XG4gIC5yZXNwb25zZSB7XG4gICAgd2lkdGg6IDQwMHB4O1xuICAgIGhlaWdodDogNDAwcHg7XG4gIH1cbn1cbi5ib3JkZXIge1xuICBib3JkZXItcmFkaXVzOiAzMCU7XG4gIGJvcmRlcjogMXB4IGdyb292ZSByZ2JhKDk0LCA0MSwgMTY0LCAwLjI4KTtcbn1cblxuLmF2aXNvIHtcbiAgY29sb3I6IHJlZDtcbiAgZm9udC1zaXplOiAxMnB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { UserDTO } from '../models/Mesa/user.dto';\r\nimport { Router } from '@angular/router';\r\nimport { MenuController } from '@ionic/angular';\r\nimport { StorageService } from '../services/storage-service.service';\r\nimport { UserService } from '../services/user/user.service';\r\nimport { UserUpdateImgDTO } from '../models/user/user-update-img.dto';\r\nimport { MessageService } from 'primeng/api';\r\n\r\n@Component({\r\n  selector: 'app-perfil',\r\n  templateUrl: './perfil.page.html',\r\n  styleUrls: ['./perfil.page.scss'],\r\n})\r\nexport class PerfilPage implements OnInit {\r\n\r\n  user: UserDTO;\r\n\r\n  imgURL: string = '';\r\n\r\n  loading = false;\r\n\r\n  constructor(private router: Router, private menu: MenuController,\r\n    public storage: StorageService, public userService: UserService,\r\n    private toast: MessageService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.loading = true;\r\n    let localUser = this.storage.getLocalUser();\r\n    if (localUser && localUser.email) {\r\n      this.userService.findByEmail(localUser.email)\r\n        .subscribe(res => {\r\n          this.loading = false;\r\n          console.log(res)\r\n          this.user = res;\r\n          this.imgURL = res.imgURL || 'assets/imgs/avatar-blank.png';\r\n          //buscar imagem;\r\n        },\r\n          error => {\r\n            if (error.status == 403) {\r\n              this.loading = false;\r\n              this.router.navigateByUrl('login');\r\n            }\r\n          });\r\n    } else {\r\n      this.loading = false;\r\n      this.router.navigateByUrl('login');\r\n    }\r\n  }\r\n\r\n  atualizar() {\r\n    this.loading = true;\r\n\r\n    const dto: UserUpdateImgDTO = {\r\n      id: this.user.id,\r\n      imgURL: this.imgURL\r\n    }\r\n\r\n    this.userService.updateImgUser(dto)\r\n      .subscribe(res => {\r\n        this.loading = false;\r\n        this.callToast('success', 'Atualizado', 'Imagem de perfil atualizada');\r\n      },\r\n        error => {\r\n          this.loading = false;\r\n        })\r\n\r\n  }\r\n\r\n  callToast(severity, summary, detail) {\r\n    this.toast.clear();\r\n    this.toast.add({\r\n      severity: severity,\r\n      summary: summary,\r\n      detail: detail\r\n    });\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { UserDTO } from 'src/app/models/Mesa/user.dto';\r\nimport { API_CONFIG } from 'src/app/config/api.config';\r\nimport { StorageService } from '../storage-service.service';\r\nimport { UserNewDTO } from 'src/app/models/user/user.new.dto';\r\nimport { UserUpdateImgDTO } from 'src/app/models/user/user-update-img.dto';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UserService {\r\n\r\n  constructor(public http: HttpClient, public storage: StorageService) { }\r\n\r\n  findByEmail(email: string): Observable<any> {\r\n    return this.http.get<UserDTO>(\r\n      `${API_CONFIG.baseUrl}users/${email}`)\r\n  }\r\n\r\n  findById(id: string): Observable<any> {\r\n    return this.http.get(\r\n      `${API_CONFIG.baseUrl}users/id/${id}`)\r\n  }\r\n\r\n  insertNew(obj: UserNewDTO): Observable<any> {\r\n    return this.http.post(`${API_CONFIG.baseUrl}users`,\r\n      obj);\r\n  }\r\n\r\n  updateImgUser(dto: UserUpdateImgDTO): Observable<any> {\r\n    return this.http.patch(`${API_CONFIG.baseUrl}users`,\r\n      dto,\r\n      {\r\n        responseType: 'json',\r\n        observe: 'response'\r\n      })\r\n  }\r\n}\r\n"],"sourceRoot":""}