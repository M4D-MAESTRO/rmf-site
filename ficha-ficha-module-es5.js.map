{"version":3,"sources":["./src/app/ficha/ficha.page.html","./src/app/ficha/ficha.module.ts","./src/app/ficha/ficha.page.scss","./src/app/ficha/ficha.page.ts"],"names":[],"mappings":"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","file":"ficha-ficha-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button id=\\\"changeText\\\" (click)=\\\"refresh()\\\">\\r\\n        <ion-icon slot=\\\"start\\\" name=\\\"refresh\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>\\r\\n      Jogando\\r\\n    </ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-segment [color]=\\\"getColor(info)\\\" [(ngModel)]=\\\"abaAtual\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n    (ionChange)=\\\"mudaAba($event)\\\">\\r\\n    <ion-segment-button style=\\\"max-width: 300px;\\\" value=\\\"info\\\">\\r\\n      <img class=\\\"icone\\\" src=\\\"assets/imgs/rpg.png\\\" alt=\\\"Informações\\\">\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button style=\\\"max-width: 300px;\\\" value=\\\"missoes\\\">\\r\\n      <img class=\\\"icone\\\" src=\\\"assets/imgs/capitulo.png\\\" alt=\\\"missoes\\\">\\r\\n    </ion-segment-button>\\r\\n    <ion-segment-button style=\\\"max-width: 300px;\\\" value=\\\"ficha\\\">\\r\\n      <img class=\\\"icone\\\" src=\\\"assets/imgs/card-pick.png\\\" alt=\\\"ficha\\\">\\r\\n    </ion-segment-button>\\r\\n  </ion-segment>\\r\\n\\r\\n  <ng-container *ngIf=\\\"abaAtual == 'info'\\\">\\r\\n    <div class=\\\"p-grid p-justify-center p-align-center\\\">\\r\\n      <p-card class=\\\"p-col-align-center container\\\" styleClass=\\\"ui-card-shadow\\\">\\r\\n        <p-header>\\r\\n          <span class=\\\"titulo\\\" style=\\\"margin-left: 5px;\\\">{{ info?.nomeRpg }}</span>\\r\\n        </p-header>\\r\\n        <span> {{ info?.descricaoRpg }} </span>\\r\\n      </p-card>\\r\\n      <div class=\\\"p-col-12\\\"></div>\\r\\n      <p-card class=\\\" p-col-align-center container\\\" styleClass=\\\"ui-card-shadow\\\">\\r\\n        <p-header>\\r\\n          <span class=\\\"titulo\\\" style=\\\"margin-left: 5px;\\\">História</span>\\r\\n        </p-header>\\r\\n        <span> {{ info?.historiaRpg }} </span>\\r\\n      </p-card>\\r\\n      <div class=\\\"p-col-12\\\"></div>\\r\\n      <p-card class=\\\"p-col-align-center container\\\" styleClass=\\\"ui-card-shadow\\\">\\r\\n        <p-header>\\r\\n          <span class=\\\"titulo\\\" style=\\\"margin-left: 5px;\\\">Mestre</span>\\r\\n        </p-header>\\r\\n        <span> {{ info?.mestre.apelido }} - {{ info?.mestre.id }} </span>\\r\\n      </p-card>\\r\\n    </div>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container *ngIf=\\\"abaAtual == 'missoes'\\\">\\r\\n    <ion-item>\\r\\n      <ion-label>Capítulo</ion-label>\\r\\n      <ion-select (ionChange)=\\\"attMissoes($event)\\\" placeholder=\\\"Selecione\\\">\\r\\n        <ion-select-option  *ngFor=\\\"let capitulo of capitulos\\\" [value]=\\\"capitulo.idCapitulo\\\"> {{ capitulo.numCapitulo }}\\r\\n          - {{capitulo.titulo}} </ion-select-option>\\r\\n      </ion-select>\\r\\n    </ion-item>\\r\\n    <p-carousel [value]=\\\"missoes\\\">\\r\\n      <p-header>\\r\\n        <h3>Missão</h3>\\r\\n      </p-header>\\r\\n      <ng-template let-missao pTemplate=\\\"panel\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Nome</ion-label>\\r\\n                <ion-input disabled class=\\\"input\\\" type=\\\"text\\\" color=\\\"Dark\\\" [value]=\\\"missao?.nome\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Descrição:</ion-label>\\r\\n                <ion-textarea type=\\\"text-area\\\" disabled color=\\\"Dark\\\" [value]=\\\"missao?.descricao\\\"></ion-textarea>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Localização</ion-label>\\r\\n                <ion-input class=\\\"input\\\" type=\\\"text\\\" disabled color=\\\"Dark\\\" [value]=\\\"missao?.localizacao\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Recompensas:</ion-label>\\r\\n                <ion-textarea type=\\\"text-area\\\" disabled color=\\\"Dark\\\" [value]=\\\"getRecompensas(missao?.recompensas)\\\">\\r\\n                </ion-textarea>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Tipo de Missão</ion-label>\\r\\n                <ion-input class=\\\"input\\\" type=\\\"text\\\" disabled color=\\\"Dark\\\" [value]=\\\"missao?.tipoMissao\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n          <ion-row>\\r\\n            <ion-col>\\r\\n              <ion-item>\\r\\n                <ion-label position=\\\"floating\\\">Status da Missão</ion-label>\\r\\n                <ion-input class=\\\"input\\\" type=\\\"text\\\" disabled color=\\\"Dark\\\" [value]=\\\"getStatusMissao(missao?.statusMissao)\\\"></ion-input>\\r\\n              </ion-item>\\r\\n            </ion-col>\\r\\n          </ion-row>\\r\\n        </div>\\r\\n      </ng-template>\\r\\n    </p-carousel>\\r\\n  </ng-container>\\r\\n\\r\\n  <ng-container *ngIf=\\\"abaAtual == 'ficha'\\\">\\r\\n    <app-ficha [idFicha]=\\\"ficha\\\"></app-ficha>\\r\\n  </ng-container>\\r\\n</ion-content>\\r\\n<app-load-spinner [loading]=\\\"loading\\\"></app-load-spinner>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { FichaPage } from './ficha.page';\r\nimport { FichasModule } from '../components/ficha/fichas.module';\r\nimport { LoadSpinnerModule } from '../components/utils/load-spinner/load-spinner.module';\r\nimport { CardModule } from 'primeng/card';\r\nimport { CarouselModule } from 'primeng/carousel';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: FichaPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    FichasModule,\r\n    LoadSpinnerModule,\r\n    CardModule,\r\n    CarouselModule\r\n  ],\r\n  declarations: [FichaPage]\r\n})\r\nexport class FichaPageModule { }\r\n","module.exports = \".icone {\\n  max-width: 100px;\\n  max-height: 50px;\\n  margin-bottom: 10px;\\n  margin-top: 10px;\\n}\\n\\n.container {\\n  margin-top: 30px;\\n  margin-left: 10px;\\n  border-color: #353535;\\n  border: 1px solid #b3c2ca;\\n  border-radius: 3px;\\n  margin: 0.3em;\\n  text-align: center;\\n  padding: 2em 0 2.25em 0;\\n  max-width: 600px;\\n}\\n\\n.p-grid {\\n  margin-top: 50px;\\n}\\n\\n@media only screen and (max-width: 500px) {\\n  .container {\\n    max-width: 360px;\\n  }\\n}\\n\\n.titulo {\\n  font-family: \\\"Montserrat\\\";\\n  text-align: center;\\n  color: black;\\n  height: 100vh;\\n  font-size: 1.5em;\\n  letter-spacing: 1px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZmljaGEvQzpcXFVzZXJzXFxsaGNjb1xcRG9jdW1lbnRzXFxEZXNlbnZvbHZpbWVudG9cXFRDQ1xcRnJvbnRlbmRcXFJNRi1Nb2JpbGUvc3JjXFxhcHBcXGZpY2hhXFxmaWNoYS5wYWdlLnNjc3MiLCJzcmMvYXBwL2ZpY2hhL2ZpY2hhLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FERUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EscUJBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0ksZ0JBQUE7QUNDSjs7QURFQTtFQUNJO0lBQ0UsZ0JBQUE7RUNDSjtBQUNGOztBREVFO0VBQ0UseUJBQUE7RUFDSCxrQkFBQTtFQUNBLFlBQUE7RUFDRyxhQUFBO0VBQ0EsZ0JBQUE7RUFDSCxtQkFBQTtBQ0FEIiwiZmlsZSI6InNyYy9hcHAvZmljaGEvZmljaGEucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmljb25lIHtcclxuICBtYXgtd2lkdGg6IDEwMHB4O1xyXG4gIG1heC1oZWlnaHQ6IDUwcHg7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICBtYXJnaW4tdG9wOiAzMHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gIGJvcmRlci1jb2xvcjogcmdiKDUzLCA1MywgNTMpO1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNiM2MyY2E7XHJcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xyXG4gIG1hcmdpbjogMC4zZW07XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDJlbSAwIDIuMjVlbSAwO1xyXG4gIG1heC13aWR0aDogNjAwcHg7XHJcbn1cclxuXHJcbi5wLWdyaWR7XHJcbiAgICBtYXJnaW4tdG9wOiA1MHB4O1xyXG59XHJcblxyXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDUwMHB4KSB7XHJcbiAgICAuY29udGFpbmVyIHtcclxuICAgICAgbWF4LXdpZHRoOiAzNjBweDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC50aXR1bG97XHJcbiAgICBmb250LWZhbWlseTogXCJNb250c2VycmF0XCI7XHJcblx0dGV4dC1hbGlnbjogY2VudGVyO1xyXG5cdGNvbG9yOiByZ2IoMCwgMCwgMCk7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxuXHRsZXR0ZXItc3BhY2luZzogMXB4O1xyXG4gIH0iLCIuaWNvbmUge1xuICBtYXgtd2lkdGg6IDEwMHB4O1xuICBtYXgtaGVpZ2h0OiA1MHB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG4uY29udGFpbmVyIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gIGJvcmRlci1jb2xvcjogIzM1MzUzNTtcbiAgYm9yZGVyOiAxcHggc29saWQgI2IzYzJjYTtcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xuICBtYXJnaW46IDAuM2VtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDJlbSAwIDIuMjVlbSAwO1xuICBtYXgtd2lkdGg6IDYwMHB4O1xufVxuXG4ucC1ncmlkIHtcbiAgbWFyZ2luLXRvcDogNTBweDtcbn1cblxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1MDBweCkge1xuICAuY29udGFpbmVyIHtcbiAgICBtYXgtd2lkdGg6IDM2MHB4O1xuICB9XG59XG4udGl0dWxvIHtcbiAgZm9udC1mYW1pbHk6IFwiTW9udHNlcnJhdFwiO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiBibGFjaztcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgZm9udC1zaXplOiAxLjVlbTtcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbn0iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { MesasService } from '../services/mesas/mesas.service';\r\nimport { FichaService } from '../services/fichas/ficha.service';\r\nimport { StorageService } from '../services/storage-service.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-ficha-page',\r\n  templateUrl: './ficha.page.html',\r\n  styleUrls: ['./ficha.page.scss'],\r\n})\r\nexport class FichaPage implements OnInit {\r\n\r\n  ficha;\r\n  abaAtual: string = 'info';\r\n  loading: boolean = true;\r\n  info: {\r\n    nomeRpg: '',\r\n    descricaoRpg: '',\r\n    historiaRpg: '',\r\n    mestre: {\r\n      apelido: '',\r\n      email: '',\r\n      id: ''\r\n    },\r\n    jogadores: [],\r\n    idMesa: ''\r\n  }\r\n\r\n  capitulos: [{\r\n    numCapitulo: '',\r\n    titulo: '',\r\n    missoes: [],\r\n    idCapitulo: ''\r\n  }]\r\n\r\n  missoes: any;\r\n\r\n\r\n  constructor(private mesaService: MesasService,\r\n    private fichaService: FichaService,\r\n    private storageService: StorageService,\r\n    private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.abaAtual = 'info';\r\n    this.loadContent();\r\n  }\r\n\r\n  loadContent() {\r\n    const { idMesa } = this.storageService.getSelectedMesa();\r\n    this.mesaService.findMesaInicial2(idMesa)\r\n      .subscribe(res => {\r\n        const { nomeRpg, descricaoRpg, historiaRpg, mestre, jogadores, idMesa } = res;\r\n\r\n        this.info = {\r\n          nomeRpg,\r\n          descricaoRpg,\r\n          historiaRpg,\r\n          mestre,\r\n          jogadores,\r\n          idMesa\r\n        }\r\n        this.loadOthers();\r\n        this.loading = false;\r\n      },\r\n        error => {\r\n          console.log(error);\r\n          this.loading = false;\r\n          this.router.navigateByUrl('perfil');\r\n        });\r\n  }\r\n\r\n  refresh() {\r\n    this.abaAtual = 'info';\r\n    this.missoes = null;\r\n    this.loadContent();\r\n  }\r\n\r\n  mudaAba(event) {\r\n    if (event.detail.value == 'info') {\r\n      this.missoes = null;\r\n    }\r\n  }\r\n\r\n  getColor(aba) {\r\n    if (aba == this.abaAtual) {\r\n      return 'success';\r\n    } else {\r\n      return \"warning\";\r\n    }\r\n  }\r\n\r\n  getRecompensas(recompensas: []) {\r\n    if (recompensas) {\r\n      const recompensa = recompensas.join(', ')\r\n      return recompensa;\r\n    }\r\n\r\n  }\r\n\r\n  attMissoes(event) {\r\n    const selected = event.detail.value\r\n    const achado = this.capitulos.find(({ idCapitulo }) => idCapitulo == selected).missoes\r\n    if (achado) {\r\n      this.missoes = achado.filter(missao => {\r\n        if (missao['statusMissao'] == \"EM_ANDAMENTO\" || missao['statusMissao'] == \"COMPLETADA\" || missao['statusMissao'] == \"FRACASSADA\") {\r\n          return missao;\r\n        }\r\n      });\r\n\r\n      this.missoes = this.missoes.map(m => {\r\n        if (m.statusMissao == \"EM_ANDAMENTO\") {\r\n          m.recompensas = ['BLOQUEADO']\r\n        }\r\n        return m;\r\n      });\r\n    } else {\r\n      this.missoes = null;\r\n    }\r\n  }\r\n\r\n  getStatusMissao(status) {\r\n    switch (status) {\r\n      case 'INCOMPLETA':\r\n        return 'Incompleta';\r\n        break;\r\n\r\n      case 'COMPLETADA':\r\n        return 'Completada';\r\n        break;\r\n\r\n      case 'FRACASSADA':\r\n        return 'Fracassada';\r\n        break;\r\n\r\n      case 'EM_ANDAMENTO':\r\n        return 'Em andamento';\r\n        break;\r\n\r\n      default:\r\n        return 0;\r\n    }\r\n  }\r\n\r\n  loadOthers() {\r\n    this.mesaService.findMesa(this.info.idMesa)\r\n      .subscribe(res => {\r\n        this.capitulos = res.sistema.capitulos;\r\n        this.loading = false;\r\n      },\r\n        error => {\r\n          console.log(error);\r\n          this.loading = false;\r\n        });\r\n\r\n    this.fichaService.findFichaByMesaAndJogador(this.storageService.getLocalUserId(), this.info.idMesa)\r\n      .subscribe(res => {\r\n        //console.log('entrou')\r\n        //console.log(this.storageService.getLocalUserId(), this.info.idMesa);\r\n        this.ficha = res.idFicha;\r\n      },\r\n        error => {\r\n          console.log(error);\r\n          this.loading = false;\r\n        });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}